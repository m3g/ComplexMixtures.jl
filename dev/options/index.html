<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Options · ComplexMixtures.jl</title><meta name="title" content="Options · ComplexMixtures.jl"/><meta property="og:title" content="Options · ComplexMixtures.jl"/><meta property="twitter:title" content="Options · ComplexMixtures.jl"/><meta name="description" content="Documentation for ComplexMixtures.jl."/><meta property="og:description" content="Documentation for ComplexMixtures.jl."/><meta property="twitter:description" content="Documentation for ComplexMixtures.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img class="docs-light-only" src="../assets/logo.svg" alt="ComplexMixtures.jl logo"/><img class="docs-dark-only" src="../assets/logo-dark.svg" alt="ComplexMixtures.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ComplexMixtures.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../parallel/">Parallel execution</a></li><li><a class="tocitem" href="../quickguide/">Quick Guide</a></li><li><a class="tocitem" href="../examples/">Examples:</a></li><li><a class="tocitem" href="../example1/">◦ Protein in water/glycerol</a></li><li><a class="tocitem" href="../example2/">◦ Polyacrylamide in DMF</a></li><li><a class="tocitem" href="../example3/">◦ POPC membrane in water/ethanol</a></li><li><a class="tocitem" href="../example4/">◦ Water/Glycerol mixture</a></li><li><a class="tocitem" href="../selection/">Set solute and solvent</a></li><li><a class="tocitem" href="../trajectory/">Loading the trajectory</a></li><li><a class="tocitem" href="../mddf/">Computing the MDDF</a></li><li><a class="tocitem" href="../results/">Results</a></li><li><a class="tocitem" href="../contributions/">Atomic and group contributions</a></li><li><a class="tocitem" href="../save/">Save and load</a></li><li><a class="tocitem" href="../multiple/">Multiple trajectories</a></li><li class="is-active"><a class="tocitem" href>Options</a><ul class="internal"><li><a class="tocitem" href="#Frame-ranges-and-histogram-properties"><span>Frame ranges and histogram properties</span></a></li><li><a class="tocitem" href="#Lower-level-options"><span>Lower level options</span></a></li><li><a class="tocitem" href="#Frame-statistical-reweighing"><span>Frame statistical reweighing</span></a></li><li><a class="tocitem" href="#Compute-coordination-number-only"><span>Compute coordination number only</span></a></li></ul></li><li><a class="tocitem" href="../tools/">Tools</a></li><li><a class="tocitem" href="../python/">From Python</a></li><li><a class="tocitem" href="../updating_scripts/">Updating scripts</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Options</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Options</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/m3g/ComplexMixtures.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/m3g/ComplexMixtures.jl/blob/main/docs/src/options.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="options"><a class="docs-heading-anchor" href="#options">Options</a><a id="options-1"></a><a class="docs-heading-anchor-permalink" href="#options" title="Permalink"></a></h1><p>There are some options to control what exactly is going to be computed to obtain the MDDF. These options can be defined by the user and passed to the <code>mddf</code> function, using, for example: </p><pre><code class="language-julia hljs">options = Options(lastframe=1000, bulk_range=(8.0, 12.0))
results = mddf(trajectory, options)</code></pre><h2 id="Frame-ranges-and-histogram-properties"><a class="docs-heading-anchor" href="#Frame-ranges-and-histogram-properties">Frame ranges and histogram properties</a><a id="Frame-ranges-and-histogram-properties-1"></a><a class="docs-heading-anchor-permalink" href="#Frame-ranges-and-histogram-properties" title="Permalink"></a></h2><p>These are common options that the regular user might want to set  in their calculation.</p><p><code>firstframe</code>: Integer, first frame of the trajectory to be considered.</p><p><code>lastframe</code>: Integer, last frame of the trajectory to be considered.</p><p><code>stride</code>: Integer, consider every stride frames, that is, if <code>stride=5</code> only one in five frames will be considered.</p><p><code>binstep</code>: Real, length of the bin step of the histograms, default = 0.02 Angstroms.</p><p><code>bulk_range</code>: This parameter defines the range of distances from the  solute that will be considered as the <code>bulk</code> region of the solution. The density of the bulk solution is estimated by counting the number of molecules of the solvent in this region, and by performing a  numerical integration of its volume. Set this range to a region of the solution where the MDDF is converged to 1 for practical purposes. Tuning this parameter is crucial for a proper convergence of the MDDFs and KB integrals. </p><div class="admonition is-compat"><header class="admonition-header">Compat</header><div class="admonition-body"><p>The <code>bulk_range</code> option was introduced in version 2.1.0.</p></div></div><h2 id="Lower-level-options"><a class="docs-heading-anchor" href="#Lower-level-options">Lower level options</a><a id="Lower-level-options-1"></a><a class="docs-heading-anchor-permalink" href="#Lower-level-options" title="Permalink"></a></h2><p>These will probably never be set by the user, unless if dealing with  some special system (large very large, or very low density system).</p><p><code>dbulk</code>: Real, distance from which the solution is to be considered as a bulk solution, that is, where the presence of the solute does not affect the structure of the solution anymore. By default, all molecules at distances greater than 10.0 Angstroms are considered bulk molecules.  However, the definition of <code>bulk_range</code> is highly encouraged. </p><p><code>cutoff</code>: Real, the maximum distance to be considered in the construction of histograms. Default: 10 Angstroms.</p><p><code>usecutoff</code>: <code>true/false</code>: If true, the cutoff distance might be different from <code>dbulk</code> and the density of the solvent in bulk will be estimated from the density within <code>dbulk</code> and <code>cutoff</code>. If <code>false</code>, the density of the solvent is estimated from the density outside <code>dbulk</code> by exclusion. Default: <code>false</code>. The definition of <code>bulk_range</code> instead is highly encouraged. </p><p><code>irefatom</code>: Integer, index of the reference atom in the solvent molecule used to compute the shell volumes and domain volumes in the Monte-Carlo volume estimates. The final <code>rdf</code> data is reported for this atom as well. By default, we choose the atom which is closer to the center of coordinates of the molecule, but any choice should be fine. </p><p><code>n_random_samples</code>: Integer, how many samples of random molecules are generated for each solvent molecule to compute the shell volumes and random MDDF counts. Default: 10. Increase this only if you have short trajectory and want to obtain reproducible results for that short trajectory. For long trajectories (most desirable and common), this value can even be decreased to speed up the calculations. </p><p><code>seed</code>: Seed for random number generator. If <code>-1</code>, the seed will be generated from the entropy of the system. If your results are dependent on the seed, is is probable that you do not have enough sampling. Mostly used for testing purposes. Two runs are only identical if ran with the same seed and in serial mode.   </p><p><code>StableRNG</code> (<code>::Bool</code>), defaults to <code>false</code>. Use a stable random number generator from the <code>StableRNGs</code> package, to produce identical runs on different architectures and Julia versions. Only used for testing. </p><p><code>nthreads</code>: How many threads to use. By default, it will be the number of physical cores of the computer.</p><p><code>lcell</code>: Integer, the cell length of the linked-cell method (actually the cell length is <code>cutoff/lcell</code>). Default: 1.  </p><p><code>GC</code>: Bool, force garbage collection, to avoid memory overflow. Default: <code>true</code>. That this might be required is probably a result of something that can vastly improved in memory management. This may slow down parallel runs significantly if the GC runs too often.</p><p><code>GC_threshold</code>: Float64, minimum fraction of the total memory of the system required to force a GC run. That is, if <code>GC_threshold=0.1</code>, which is the default, every time the free memory becomes less or equal to 10% of the total memory available, a GC run occurs.  </p><h2 id="Frame-statistical-reweighing"><a class="docs-heading-anchor" href="#Frame-statistical-reweighing">Frame statistical reweighing</a><a id="Frame-statistical-reweighing-1"></a><a class="docs-heading-anchor-permalink" href="#Frame-statistical-reweighing" title="Permalink"></a></h2><div class="admonition is-compat"><header class="admonition-header">Compat</header><div class="admonition-body"><p>Frame reweighing is available in ComplexMixtures 2.0.0 or greater.</p></div></div><p>Most times the weights of each frame of the trajectory are the same, resulting from some standard MD simulation. If, for some reason, the frames have  different statistical weights, the weights can be passed to the as an  optional parameter <code>frame_weights</code>.</p><p>For example:</p><pre><code class="language-julia-repl hljs">julia&gt; results = mddf(trajectory, options; frame_weights=[0.0, 1.0, 2.0])</code></pre><p>The code above will assign a larger weight to the third frame of the trajectory. These weights are relative (meaning that <code>[0.0, 1.0, 2.0]</code> would produce  the same result). What will happen under the hood is that the distance counts of the frames will be multiplied by each frame weight, and normalized for the sum of the weights.</p><p><strong>Important:</strong> The length of the <code>frame_weights</code> vector must be at least equal to the number of the last frame read from the trajectory. That is, if <code>lastframe</code>  is not set, and all the frames will be read, the length of <code>frame_weights</code> must be equal to the length of the trajectory (the <code>stride</code> parameter will skip the information both of the frames and its weights). If <code>lastframe</code> is set, then the length of <code>frame_weights</code> must be at least <code>lastframe</code> (it can be greater, and further values will be ignored). Importantly, the indices of the elements in <code>frame_weights</code> are assumed to correspond to the indices of the frames in the original trajectory file.</p><h2 id="Compute-coordination-number-only"><a class="docs-heading-anchor" href="#Compute-coordination-number-only">Compute coordination number only</a><a id="Compute-coordination-number-only-1"></a><a class="docs-heading-anchor-permalink" href="#Compute-coordination-number-only" title="Permalink"></a></h2><p>For some systems, it may be impossible, or to expensive, to compute the normalization of the minimum-distance distribution function. Nevertheless, the coordination number may still be an interesting information to be retrieved from the  simulations. To run the computation to compute coordination numbers only, do:</p><pre><code class="language-julia-repl hljs">julia&gt; results = mddf(trajectory, options; coordination_number_only = true)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>With <code>coordination_number_only</code> set to <code>true</code>, the arrays associated to MDDFs and KB integrals will be empty in the output data structure. </p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComplexMixtures.Options-Tuple{}" href="#ComplexMixtures.Options-Tuple{}"><code>ComplexMixtures.Options</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Options(;
    firstframe::Int = 1,
    lastframe::Int = -1,
    stride::Int = 1,
    irefatom::Int = -1,
    n_random_samples::Int = 10,
    binstep::Float64 = 0.02,
    dbulk::Union{Nothing,Real} = nothing,
    cutoff::Union{Nothing,Real} = nothing,
    usecutoff::Union{Nothing,Bool} = nothing,
    bulk_range=nothing,
    lcell::Int = 1,
    GC::Bool = true,
    GC_threshold::Float64 = 0.3,
    seed::Int = 321,
    StableRNG::Bool = false,
    nthreads::Int = 0,
    silent::Bool = false
)</code></pre><p>Create an Options object with the specified options. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m3g/ComplexMixtures.jl/blob/af11ad47d91cdd7e2257e8fb5c3bf0160868e699/src/Options.jl#L44-L67">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../multiple/">« Multiple trajectories</a><a class="docs-footer-nextpage" href="../tools/">Tools »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Wednesday 25 September 2024 11:55">Wednesday 25 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
